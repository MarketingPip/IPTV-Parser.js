/**!
 * @license IPTV-Parser.js - A JavaScript library for easily parsing M3U from text or URL. 
 * LICENSED UNDER MIT LICENSE
 * MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/IPTV-Parser.js
 */ import r from"https://cdn.skypack.dev/iptv-playlist-parser@0.12.1";export async function ParseM3U(t,e){async function a(t,e){if(!t){if(e)throw{iptv_parser_error:"URL to fetch is required"};throw{iptv_parser_error:"Text to parse is required"}}let a=null;if(e){let i=await fetch(t),s=await i.text();if(200!=i.status)throw{iptv_parser_error:`HTTP ${i.status} error`};a=s}else a=t;try{let n=await p(a);return n}catch(o){return o}async function p(t){let e=t.split("\n").map(function r(t,e){return{index:e,raw:t}}).find(r=>0===r.index);if(e&&/^#EXTM3U/.test(e.raw)){let a=r.parse(t);return await a}throw{iptv_parser_error:"Playlist is not valid"}}}try{if(e)return await a(t,"url");return await a(t)}catch(i){return i}}
